<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EntertainBot // Terminal</title>
    <meta name="description" content="AI-powered terminal for discovering anime, manga, TV shows, and books.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Space+Mono:wght@400;700&family=JetBrains+Mono:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>

<body>
    <!-- Scanline overlay -->
    <div class="scanlines"></div>

    <div class="app-shell">
        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="sidebar-brand">
                <div class="brand-badge">&gt;_</div>
                <div class="brand-text">
                    <span class="brand-name">EntertainBot</span>
                    <span class="brand-version">v2.0.0</span>
                </div>
            </div>

            <button class="btn-new" id="clearBtn">
                <span class="btn-new-icon">+</span>
                <span>NEW SESSION</span>
            </button>

            <nav class="sidebar-modules">
                <div class="module-label">// MODULES</div>
                <button class="module-item active" data-category="all">
                    <span class="module-dot" style="--dot-color: #f0f0f0"></span>
                    <span>all_topics</span>
                </button>
                <button class="module-item" data-category="anime">
                    <span class="module-dot" style="--dot-color: #ff2d95"></span>
                    <span>anime_manga</span>
                </button>
                <button class="module-item" data-category="tv">
                    <span class="module-dot" style="--dot-color: #00fff2"></span>
                    <span>tv_shows</span>
                </button>
                <button class="module-item" data-category="books">
                    <span class="module-dot" style="--dot-color: #ffe156"></span>
                    <span>books_library</span>
                </button>
            </nav>

            <div class="sidebar-status">
                <div class="status-row">
                    <span class="status-label">STATUS</span>
                    <span class="status-value status-online">● ONLINE</span>
                </div>
                <div class="status-row">
                    <span class="status-label">APIs</span>
                    <span class="status-value">Jikan / TVMaze / OLib</span>
                </div>
            </div>
        </aside>

        <!-- Main -->
        <div class="main-panel">
            <!-- Top bar -->
            <header class="topbar">
                <button class="btn-hamburger" id="menuBtn">
                    <span></span><span></span><span></span>
                </button>
                <div class="topbar-title">
                    <span class="topbar-prompt">&gt;</span> session_active
                    <span class="topbar-cursor">█</span>
                </div>
                <button class="btn-icon-raw" id="clearBtnMobile" title="New session">
                    <span>+</span>
                </button>
            </header>

            <!-- Chat -->
            <main class="chat-feed" id="chatMessages">
                <div class="welcome-screen" id="welcomeMessage">
                    <div class="welcome-ascii">
                        <pre class="ascii-art">
 ╔══════════════════════════════╗
 ║   E N T E R T A I N B O T   ║
 ║       TERMINAL  v2.0.0       ║
 ╚══════════════════════════════╝
</pre>
                    </div>
                    <p class="welcome-sub">Your AI-powered terminal for anime, TV shows &amp; books.</p>
                    <p class="welcome-hint">Type a query or select a quick command below.</p>

                    <div class="cmd-grid">
                        <button class="cmd-card" data-message="What are the top anime right now?">
                            <span class="cmd-prefix">$</span>
                            <div class="cmd-body">
                                <span class="cmd-title">top_anime --trending</span>
                                <span class="cmd-desc">Fetch trending anime this season</span>
                            </div>
                        </button>
                        <button class="cmd-card" data-message="Tell me about Breaking Bad">
                            <span class="cmd-prefix">$</span>
                            <div class="cmd-body">
                                <span class="cmd-title">show --query "Breaking Bad"</span>
                                <span class="cmd-desc">Lookup TV show details &amp; cast</span>
                            </div>
                        </button>
                        <button class="cmd-card" data-message="Search for books by Tolkien">
                            <span class="cmd-prefix">$</span>
                            <div class="cmd-body">
                                <span class="cmd-title">books --author "Tolkien"</span>
                                <span class="cmd-desc">Explore an author's bibliography</span>
                            </div>
                        </button>
                        <button class="cmd-card" data-message="What anime are similar to Attack on Titan?">
                            <span class="cmd-prefix">$</span>
                            <div class="cmd-body">
                                <span class="cmd-title">similar --to "Attack on Titan"</span>
                                <span class="cmd-desc">Find related anime recommendations</span>
                            </div>
                        </button>
                    </div>
                </div>
            </main>

            <!-- Input -->
            <footer class="input-dock">
                <form class="input-shell" id="chatForm">
                    <div class="input-row">
                        <span class="input-prompt">&gt;</span>
                        <textarea class="input-field" id="chatInput" placeholder="enter query..." autocomplete="off"
                            maxlength="2000" rows="1"></textarea>
                        <button type="submit" class="btn-exec" id="sendBtn" disabled>
                            EXEC
                        </button>
                    </div>
                </form>
                <div class="input-meta">
                    <span>SRC: Jikan API · TV Maze · Open Library · OpenRouter LLM</span>
                </div>
            </footer>
        </div>
    </div>

    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="{{ url_for('static', filename='js/chat.js') }}"></script>
</body>

</html>